<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResumeBuilder Pro - Professional Resume Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',
                        secondary: '#4f46e5'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-sm border-b sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold text-primary cursor-pointer" onclick="showPage('home')">
                        📄 ResumeBuilder Pro
                    </h1>
                </div>
                <div class="flex items-center space-x-4" id="nav-buttons">
                    <!-- Navigation buttons will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </nav>

    <!-- Home Page -->
    <div id="home-page" class="page">
        <div class="bg-gradient-to-br from-primary via-purple-600 to-pink-500 text-white py-20">
            <div class="max-w-7xl mx-auto px-4 text-center">
                <h1 class="text-6xl font-bold mb-6">Create ATS-Friendly Resumes</h1>
                <p class="text-xl mb-8 max-w-3xl mx-auto">Choose from 10 stunning professional templates and get real-time ATS compatibility scores to land your dream job</p>
                <div class="space-x-4">
                    <button onclick="showPage('signup')" class="bg-white text-primary px-8 py-4 rounded-xl font-semibold hover:bg-gray-100 transform hover:scale-105 transition-all">
                        🚀 Start Building Free
                    </button>
                    <button onclick="showPage('templates')" class="border-2 border-white text-white px-8 py-4 rounded-xl font-semibold hover:bg-white hover:text-primary transform hover:scale-105 transition-all">
                        🎨 Browse Templates
                    </button>
                </div>
            </div>
        </div>
        
        <div class="max-w-7xl mx-auto px-4 py-20">
            <div class="grid md:grid-cols-3 gap-12 mb-20">
                <div class="text-center group">
                    <div class="bg-gradient-to-br from-blue-400 to-blue-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform">
                        <span class="text-3xl">📋</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">10 Premium Templates</h3>
                    <p class="text-gray-600 text-lg">Professionally designed, ATS-optimized resume templates for every industry and career level</p>
                </div>
                <div class="text-center group">
                    <div class="bg-gradient-to-br from-green-400 to-green-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform">
                        <span class="text-3xl">🤖</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">Smart ATS Checker</h3>
                    <p class="text-gray-600 text-lg">Advanced ATS compatibility analysis with detailed feedback and improvement suggestions</p>
                </div>
                <div class="text-center group">
                    <div class="bg-gradient-to-br from-purple-400 to-purple-600 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform">
                        <span class="text-3xl">⚡</span>
                    </div>
                    <h3 class="text-2xl font-bold mb-4">Easy Builder</h3>
                    <p class="text-gray-600 text-lg">Intuitive drag-and-drop interface with real-time preview and smart auto-formatting</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="login-page" class="page hidden">
        <div class="min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-br from-primary/10 to-purple-500/10">
            <div class="max-w-md w-full">
                <div class="bg-white rounded-2xl shadow-2xl p-8">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 bg-gradient-to-br from-primary to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">👋</span>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-900">Welcome Back</h2>
                        <p class="text-gray-600 mt-2">Sign in to continue building amazing resumes</p>
                    </div>
                    <form class="space-y-6" onsubmit="handleLogin(event)">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                            <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="login-email" placeholder="Enter your email">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                            <input type="password" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="login-password" placeholder="Enter your password">
                        </div>
                        <button type="submit" class="w-full bg-gradient-to-r from-primary to-purple-600 text-white py-3 px-4 rounded-xl hover:from-primary/90 hover:to-purple-600/90 font-medium transform hover:scale-105 transition-all">
                            Sign In
                        </button>
                    </form>
                    <p class="text-center text-sm text-gray-600 mt-6">
                        Don't have an account? 
                        <button onclick="showPage('signup')" class="text-primary hover:underline font-medium">Sign up free</button>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Signup Page -->
    <div id="signup-page" class="page hidden">
        <div class="min-h-screen flex items-center justify-center py-12 px-4 bg-gradient-to-br from-primary/10 to-purple-500/10">
            <div class="max-w-md w-full">
                <div class="bg-white rounded-2xl shadow-2xl p-8">
                    <div class="text-center mb-8">
                        <div class="w-16 h-16 bg-gradient-to-br from-primary to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4">
                            <span class="text-2xl">🎉</span>
                        </div>
                        <h2 class="text-3xl font-bold text-gray-900">Create Account</h2>
                        <p class="text-gray-600 mt-2">Join thousands building professional resumes</p>
                    </div>
                    <form class="space-y-6" onsubmit="handleSignup(event)">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                            <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="signup-name" placeholder="Enter your full name">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email Address</label>
                            <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="signup-email" placeholder="Enter your email">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                            <input type="password" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="signup-password" placeholder="Create a password">
                        </div>
                        <button type="submit" class="w-full bg-gradient-to-r from-primary to-purple-600 text-white py-3 px-4 rounded-xl hover:from-primary/90 hover:to-purple-600/90 font-medium transform hover:scale-105 transition-all">
                            Create Account
                        </button>
                    </form>
                    <p class="text-center text-sm text-gray-600 mt-6">
                        Already have an account? 
                        <button onclick="showPage('login')" class="text-primary hover:underline font-medium">Sign in</button>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard-page" class="page hidden">
        <div class="max-w-7xl mx-auto px-4 py-8">
            <div class="flex justify-between items-center mb-8">
                <div>
                    <h1 class="text-4xl font-bold text-gray-900" id="dashboard-title">Welcome Back!</h1>
                    <p class="text-gray-600 mt-2">Manage your resumes and track your progress</p>
                </div>
                <button onclick="logout()" class="bg-red-500 text-white px-6 py-3 rounded-xl hover:bg-red-600 transition-colors">
                    🚪 Logout
                </button>
            </div>

            <div class="grid md:grid-cols-4 gap-6 mb-12">
                <div class="bg-gradient-to-br from-blue-500 to-blue-600 text-white p-6 rounded-2xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-lg font-semibold mb-2">My Resumes</h3>
                            <p class="text-3xl font-bold" id="resume-count">0</p>
                        </div>
                        <span class="text-4xl opacity-80">📄</span>
                    </div>
                </div>
                <div class="bg-gradient-to-br from-green-500 to-green-600 text-white p-6 rounded-2xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-lg font-semibold mb-2">Avg ATS Score</h3>
                            <p class="text-3xl font-bold" id="avg-ats-score">--</p>
                        </div>
                        <span class="text-4xl opacity-80">🎯</span>
                    </div>
                </div>
                <div class="bg-gradient-to-br from-purple-500 to-purple-600 text-white p-6 rounded-2xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-lg font-semibold mb-2">Downloads</h3>
                            <p class="text-3xl font-bold" id="download-count">0</p>
                        </div>
                        <span class="text-4xl opacity-80">⬇️</span>
                    </div>
                </div>
                <div class="bg-gradient-to-br from-pink-500 to-pink-600 text-white p-6 rounded-2xl shadow-lg">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-lg font-semibold mb-2">Templates Used</h3>
                            <p class="text-3xl font-bold" id="template-count">0</p>
                        </div>
                        <span class="text-4xl opacity-80">🎨</span>
                    </div>
                </div>
            </div>

            <div class="grid lg:grid-cols-3 gap-8">
                <div class="lg:col-span-2 bg-white rounded-2xl shadow-lg">
                    <div class="p-6 border-b flex justify-between items-center">
                        <h2 class="text-2xl font-bold text-gray-900">📋 My Resumes</h2>
                        <button onclick="showPage('templates')" class="bg-gradient-to-r from-primary to-purple-600 text-white px-6 py-3 rounded-xl hover:from-primary/90 hover:to-purple-600/90 transform hover:scale-105 transition-all">
                            ➕ Create New
                        </button>
                    </div>
                    <div class="p-6" id="user-resumes-list">
                        <div class="text-center py-12">
                            <span class="text-6xl mb-4 block">📝</span>
                            <p class="text-gray-500 text-lg mb-4">No resumes created yet</p>
                            <button onclick="showPage('templates')" class="text-primary hover:underline font-medium">Create your first resume →</button>
                        </div>
                    </div>
                </div>
                
                <div class="bg-white rounded-2xl shadow-lg">
                    <div class="p-6 border-b">
                        <h2 class="text-2xl font-bold text-gray-900">⚡ Quick Actions</h2>
                    </div>
                    <div class="p-6 space-y-4">
                        <button onclick="showPage('profile')" class="w-full bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 text-blue-800 px-6 py-4 rounded-xl text-left transition-all transform hover:scale-105">
                            <div class="flex items-center">
                                <span class="text-2xl mr-4">👤</span>
                                <div>
                                    <span class="font-semibold block">Edit Profile</span>
                                    <p class="text-sm text-blue-600">Update personal information</p>
                                </div>
                            </div>
                        </button>
                        <button onclick="showPage('templates')" class="w-full bg-gradient-to-r from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 text-purple-800 px-6 py-4 rounded-xl text-left transition-all transform hover:scale-105">
                            <div class="flex items-center">
                                <span class="text-2xl mr-4">🎨</span>
                                <div>
                                    <span class="font-semibold block">Browse Templates</span>
                                    <p class="text-sm text-purple-600">Explore 10 professional designs</p>
                                </div>
                            </div>
                        </button>
                        <button onclick="showPage('ats-checker')" class="w-full bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 text-green-800 px-6 py-4 rounded-xl text-left transition-all transform hover:scale-105">
                            <div class="flex items-center">
                                <span class="text-2xl mr-4">🤖</span>
                                <div>
                                    <span class="font-semibold block">ATS Checker</span>
                                    <p class="text-sm text-green-600">Check resume compatibility</p>
                                </div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Page -->
    <div id="profile-page" class="page hidden">
        <div class="max-w-4xl mx-auto px-4 py-8">
            <div class="flex items-center mb-8">
                <button onclick="showPage('dashboard')" class="mr-4 p-2 hover:bg-gray-100 rounded-lg">
                    ← Back
                </button>
                <h1 class="text-4xl font-bold text-gray-900">👤 My Profile</h1>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg">
                <div class="p-6 border-b bg-gradient-to-r from-primary/10 to-purple-500/10 rounded-t-2xl">
                    <h2 class="text-2xl font-bold text-gray-900">Personal Information</h2>
                    <p class="text-gray-600 mt-1">Update your details to personalize your resumes</p>
                </div>
                <form class="p-8 space-y-8" onsubmit="handleProfileUpdate(event)">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Full Name *</label>
                            <input type="text" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="profile-name" placeholder="John Doe">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
                            <input type="email" required class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="profile-email" placeholder="john@example.com">
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
                            <input type="tel" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="profile-phone" placeholder="(555) 123-4567">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                            <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="profile-location" placeholder="New York, NY">
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Professional Title</label>
                        <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="profile-title" placeholder="Software Engineer">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">LinkedIn Profile</label>
                        <input type="url" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="profile-linkedin" placeholder="https://linkedin.com/in/yourprofile">
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Professional Summary</label>
                        <textarea rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" id="profile-summary" placeholder="Brief overview of your professional background and key achievements..."></textarea>
                    </div>
                    
                    <div class="flex space-x-4">
                        <button type="submit" class="bg-gradient-to-r from-primary to-purple-600 text-white px-8 py-3 rounded-xl hover:from-primary/90 hover:to-purple-600/90 font-medium transform hover:scale-105 transition-all">
                            💾 Save Changes
                        </button>
                        <button type="button" onclick="showPage('dashboard')" class="bg-gray-200 text-gray-700 px-8 py-3 rounded-xl hover:bg-gray-300 transition-colors">
                            Cancel
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Templates Page -->
    <div id="templates-page" class="page hidden">
        <div class="max-w-7xl mx-auto px-4 py-8">
            <div class="text-center mb-12">
                <h1 class="text-5xl font-bold text-gray-900 mb-4">🎨 Choose Your Template</h1>
                <p class="text-xl text-gray-600 max-w-3xl mx-auto">Select from 10 professionally designed, ATS-friendly templates crafted to make you stand out</p>
            </div>
            
            <div class="flex justify-center mb-8">
                <div class="flex space-x-4">
                    <select class="px-6 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary" id="template-category" onchange="filterTemplates()">
                        <option value="">All Categories</option>
                        <option value="modern">Modern</option>
                        <option value="classic">Classic</option>
                        <option value="creative">Creative</option>
                        <option value="executive">Executive</option>
                        <option value="tech">Technology</option>
                    </select>
                    <select class="px-6 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary" id="template-color" onchange="filterTemplates()">
                        <option value="">All Colors</option>
                        <option value="blue">Blue</option>
                        <option value="green">Green</option>
                        <option value="red">Red</option>
                        <option value="purple">Purple</option>
                        <option value="orange">Orange</option>
                    </select>
                </div>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8" id="templates-grid">
                <!-- Templates will be populated here -->
            </div>
        </div>
    </div>

    <!-- Resume Builder -->
    <div id="builder-page" class="page hidden">
        <div class="flex h-screen">
            <!-- Left Panel - Form -->
            <div class="w-1/2 bg-white border-r overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6 pb-4 border-b">
                        <h2 class="text-3xl font-bold text-gray-900">📝 Resume Builder</h2>
                        <div class="flex space-x-3">
                            <button onclick="checkATS()" class="bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-xl hover:from-green-600 hover:to-green-700 transform hover:scale-105 transition-all">
                                🤖 Check ATS
                            </button>
                            <button onclick="downloadResume()" class="bg-gradient-to-r from-primary to-purple-600 text-white px-6 py-3 rounded-xl hover:from-primary/90 hover:to-purple-600/90 transform hover:scale-105 transition-all">
                                ⬇️ Download
                            </button>
                        </div>
                    </div>
                    
                    <!-- Form Sections -->
                    <div class="space-y-8">
                        <!-- Personal Info -->
                        <div class="bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-2xl">
                            <h3 class="text-xl font-bold mb-4 text-blue-800">👤 Personal Information</h3>
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <input type="text" placeholder="Full Name" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" id="builder-name" oninput="updatePreview()">
                                <input type="email" placeholder="Email" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" id="builder-email" oninput="updatePreview()">
                                <input type="tel" placeholder="Phone" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" id="builder-phone" oninput="updatePreview()">
                                <input type="text" placeholder="Location" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" id="builder-location" oninput="updatePreview()">
                            </div>
                            <input type="text" placeholder="Professional Title" class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 mb-4" id="builder-title" oninput="updatePreview()">
                            <textarea placeholder="Professional Summary" rows="3" class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" id="builder-summary" oninput="updatePreview()"></textarea>
                        </div>
                        
                        <!-- Experience -->
                        <div class="bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-2xl">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-bold text-green-800">💼 Work Experience</h3>
                                <button onclick="addExperience()" class="bg-green-600 text-white px-4 py-2 rounded-xl hover:bg-green-700 transform hover:scale-105 transition-all">
                                    ➕ Add Experience
                                </button>
                            </div>
                            <div id="experience-list">
                                <!-- Experience items will be added here -->
                            </div>
                        </div>
                        
                        <!-- Education -->
                        <div class="bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-2xl">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-xl font-bold text-purple-800">🎓 Education</h3>
                                <button onclick="addEducation()" class="bg-purple-600 text-white px-4 py-2 rounded-xl hover:bg-purple-700 transform hover:scale-105 transition-all">
                                    ➕ Add Education
                                </button>
                            </div>
                            <div id="education-list">
                                <!-- Education items will be added here -->
                            </div>
                        </div>
                        
                        <!-- Skills -->
                        <div class="bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-2xl">
                            <h3 class="text-xl font-bold mb-4 text-orange-800">⚡ Skills</h3>
                            <input type="text" placeholder="Add skills (comma separated)" class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500" id="builder-skills" oninput="updatePreview()">
                            <p class="text-sm text-orange-600 mt-2">Example: JavaScript, React, Node.js, Python</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Panel - Preview -->
            <div class="w-1/2 bg-gray-100 overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold">👁️ Live Preview</h3>
                        <div class="flex space-x-2">
                            <button onclick="zoomOut()" class="p-2 bg-white rounded-lg hover:bg-gray-50">🔍-</button>
                            <button onclick="zoomIn()" class="p-2 bg-white rounded-lg hover:bg-gray-50">🔍+</button>
                        </div>
                    </div>
                    <div class="bg-white shadow-2xl rounded-lg overflow-hidden" id="resume-preview" style="transform: scale(0.8); transform-origin: top;">
                        <!-- Resume preview will be rendered here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ATS Checker Page -->
    <div id="ats-checker-page" class="page hidden">
        <div class="max-w-4xl mx-auto px-4 py-8">
            <div class="text-center mb-12">
                <h1 class="text-5xl font-bold text-gray-900 mb-4">🤖 ATS Compatibility Checker</h1>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto">Upload your resume and get detailed feedback on how well it will perform with Applicant Tracking Systems</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                <h2 class="text-2xl font-bold text-gray-900 mb-6">📤 Upload Your Resume</h2>
                <div class="border-2 border-dashed border-gray-300 rounded-2xl p-12 text-center hover:border-primary transition-colors">
                    <input type="file" accept=".pdf,.doc,.docx" class="hidden" id="ats-file-input" onchange="analyzeResume(event)">
                    <div class="mb-4">
                        <span class="text-6xl">📄</span>
                    </div>
                    <button onclick="document.getElementById('ats-file-input').click()" class="bg-gradient-to-r from-primary to-purple-600 text-white px-8 py-4 rounded-xl hover:from-primary/90 hover:to-purple-600/90 font-medium transform hover:scale-105 transition-all mb-4">
                        Choose File to Analyze
                    </button>
                    <p class="text-gray-500">Supports PDF, DOC, DOCX files (Max 10MB)</p>
                </div>
            </div>
            
            <div id="ats-results" class="hidden">
                <div class="bg-white rounded-2xl shadow-lg p-8 mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h2 class="text-2xl font-bold text-gray-900">📊 ATS Compatibility Score</h2>
                        <div class="text-right">
                            <div class="text-5xl font-bold text-primary" id="ats-score">85</div>
                            <div class="text-sm text-gray-500">out of 100</div>
                        </div>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-4 mb-4">
                        <div class="bg-gradient-to-r from-green-400 to-green-600 h-4 rounded-full transition-all duration-1000" id="ats-score-bar" style="width: 85%"></div>
                    </div>
                    <div class="text-center">
                        <span class="inline-block px-4 py-2 rounded-full text-sm font-medium" id="ats-score-label">Excellent Score!</span>
                    </div>
                </div>
                
                <div class="grid md:grid-cols-2 gap-8">
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <h3 class="text-2xl font-bold text-green-600 mb-6 flex items-center">
                            <span class="mr-3">✅</span> Strengths
                        </h3>
                        <ul class="space-y-3" id="ats-strengths">
                            <!-- Strengths will be populated here -->
                        </ul>
                    </div>
                    
                    <div class="bg-white rounded-2xl shadow-lg p-8">
                        <h3 class="text-2xl font-bold text-orange-600 mb-6 flex items-center">
                            <span class="mr-3">⚠️</span> Improvements
                        </h3>
                        <ul class="space-y-3" id="ats-improvements">
                            <!-- Improvements will be populated here -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Application State
        let currentUser = null;
        let users = JSON.parse(localStorage.getItem('resumebuilder_users') || '[]');
        let resumes = JSON.parse(localStorage.getItem('resumebuilder_resumes') || '[]');
        let currentTemplate = null;
        let experienceCount = 0;
        let educationCount = 0;
        let allTemplates = [];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            const savedUser = localStorage.getItem('resumebuilder_current_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateNavigation();
                showPage('dashboard');
            } else {
                showPage('home');
            }
            
            generateTemplates();
            loadTemplates();
        });

        // Navigation functions
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            
            document.getElementById(pageId + '-page').classList.remove('hidden');
            
            if (pageId === 'dashboard' && currentUser) {
                loadDashboard();
            } else if (pageId === 'profile' && currentUser) {
                loadProfile();
            } else if (pageId === 'templates') {
                loadTemplates();
            }
        }

        function updateNavigation() {
            const navButtons = document.getElementById('nav-buttons');
            if (currentUser) {
                navButtons.innerHTML = `
                    <button onclick="showPage('dashboard')" class="text-gray-700 hover:text-primary px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors">Dashboard</button>
                    <button onclick="showPage('templates')" class="text-gray-700 hover:text-primary px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors">Templates</button>
                    <button onclick="showPage('ats-checker')" class="text-gray-700 hover:text-primary px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors">ATS Checker</button>
                    <div class="flex items-center space-x-3">
                        <span class="text-gray-700">Hi, ${currentUser.name.split(' ')[0]}!</span>
                        <button onclick="showPage('profile')" class="w-10 h-10 bg-gradient-to-br from-primary to-purple-600 text-white rounded-full flex items-center justify-center font-bold hover:scale-110 transition-transform">
                            ${currentUser.name.charAt(0).toUpperCase()}
                        </button>
                    </div>
                `;
            } else {
                navButtons.innerHTML = `
                    <button onclick="showPage('login')" class="text-gray-700 hover:text-primary px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors">Login</button>
                    <button onclick="showPage('signup')" class="bg-gradient-to-r from-primary to-purple-600 text-white px-6 py-2 rounded-xl hover:from-primary/90 hover:to-purple-600/90 transform hover:scale-105 transition-all">Sign Up</button>
                `;
            }
        }

        // Authentication functions
        function handleLogin(event) {
            event.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('resumebuilder_current_user', JSON.stringify(currentUser));
                updateNavigation();
                showPage('dashboard');
                showNotification('Welcome back! 🎉', 'success');
            } else {
                showNotification('Invalid email or password ❌', 'error');
            }
        }

        function handleSignup(event) {
            event.preventDefault();
            
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            
            if (users.find(u => u.email === email)) {
                showNotification('User with this email already exists ⚠️', 'error');
                return;
            }
            
            const newUser = {
                id: Date.now().toString(),
                name,
                email,
                password,
                profile: {
                    phone: '',
                    location: '',
                    title: '',
                    linkedin: '',
                    summary: ''
                },
                createdAt: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('resumebuilder_users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('resumebuilder_current_user', JSON.stringify(currentUser));
            
            updateNavigation();
            showPage('dashboard');
            showNotification('Account created successfully! 🎉', 'success');
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('resumebuilder_current_user');
            updateNavigation();
            showPage('home');
            showNotification('Logged out successfully 👋', 'success');
        }

        // Profile functions
        function loadProfile() {
            if (!currentUser) return;
            
            document.getElementById('profile-name').value = currentUser.name || '';
            document.getElementById('profile-email').value = currentUser.email || '';
            document.getElementById('profile-phone').value = currentUser.profile?.phone || '';
            document.getElementById('profile-location').value = currentUser.profile?.location || '';
            document.getElementById('profile-title').value = currentUser.profile?.title || '';
            document.getElementById('profile-linkedin').value = currentUser.profile?.linkedin || '';
            document.getElementById('profile-summary').value = currentUser.profile?.summary || '';
        }

        function handleProfileUpdate(event) {
            event.preventDefault();
            
            currentUser.name = document.getElementById('profile-name').value;
            currentUser.email = document.getElementById('profile-email').value;
            currentUser.profile = {
                phone: document.getElementById('profile-phone').value,
                location: document.getElementById('profile-location').value,
                title: document.getElementById('profile-title').value,
                linkedin: document.getElementById('profile-linkedin').value,
                summary: document.getElementById('profile-summary').value
            };
            
            // Update in users array
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('resumebuilder_users', JSON.stringify(users));
            }
            
            localStorage.setItem('resumebuilder_current_user', JSON.stringify(currentUser));
            updateNavigation();
            
            showNotification('Profile updated successfully! ✅', 'success');
            showPage('dashboard');
        }

        // Dashboard functions
        function loadDashboard() {
            if (!currentUser) return;
            
            const userResumes = resumes.filter(r => r.userId === currentUser.id);
            const avgScore = userResumes.length > 0 ? 
                Math.round(userResumes.reduce((sum, r) => sum + (r.atsScore || 0), 0) / userResumes.length) : 0;
            
            document.getElementById('resume-count').textContent = userResumes.length;
            document.getElementById('avg-ats-score').textContent = avgScore > 0 ? avgScore + '%' : '--';
            document.getElementById('download-count').textContent = userResumes.reduce((sum, r) => sum + (r.downloads || 0), 0);
            document.getElementById('template-count').textContent = new Set(userResumes.map(r => r.templateId)).size;
            
            const resumesList = document.getElementById('user-resumes-list');
            if (userResumes.length === 0) {
                resumesList.innerHTML = `
                    <div class="text-center py-12">
                        <span class="text-6xl mb-4 block">📝</span>
                        <p class="text-gray-500 text-lg mb-4">No resumes created yet</p>
                        <button onclick="showPage('templates')" class="text-primary hover:underline font-medium">Create your first resume →</button>
                    </div>
                `;
            } else {
                resumesList.innerHTML = userResumes.map(resume => `
                    <div class="border border-gray-200 rounded-2xl p-6 mb-4 hover:shadow-lg transition-shadow bg-gradient-to-r from-gray-50 to-white">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="text-xl font-bold text-gray-900 mb-2">${resume.name || 'Untitled Resume'}</h3>
                                <p class="text-gray-600">Template: ${getTemplateName(resume.templateId)}</p>
                            </div>
                            <span class="text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full">${new Date(resume.updatedAt).toLocaleDateString()}</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <div class="flex space-x-6 text-sm">
                                <div class="flex items-center">
                                    <span class="w-3 h-3 bg-green-500 rounded-full mr-2"></span>
                                    <span class="text-gray-600">ATS Score: <strong>${resume.atsScore || '--'}%</strong></span>
                                </div>
                                <div class="flex items-center">
                                    <span class="w-3 h-3 bg-blue-500 rounded-full mr-2"></span>
                                    <span class="text-gray-600">Downloads: <strong>${resume.downloads || 0}</strong></span>
                                </div>
                            </div>
                            <div class="flex space-x-3">
                                <button onclick="editResume('${resume.id}')" class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-colors">✏️ Edit</button>
                                <button onclick="downloadResumeById('${resume.id}')" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors">⬇️ Download</button>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }

        function getTemplateName(templateId) {
            const template = allTemplates.find(t => t.id === templateId);
            return template ? template.name : 'Unknown Template';
        }

        // Templates functions
        function generateTemplates() {
            allTemplates = [
                {
                    id: 'template-1',
                    name: 'Modern Professional',
                    category: 'modern',
                    color: 'blue',
                    preview: createTemplatePreview('Modern Professional', 'blue', 'modern')
                },
                {
                    id: 'template-2',
                    name: 'Classic Executive',
                    category: 'classic',
                    color: 'gray',
                    preview: createTemplatePreview('Classic Executive', 'gray', 'classic')
                },
                {
                    id: 'template-3',
                    name: 'Creative Designer',
                    category: 'creative',
                    color: 'purple',
                    preview: createTemplatePreview('Creative Designer', 'purple', 'creative')
                },
                {
                    id: 'template-4',
                    name: 'Tech Specialist',
                    category: 'tech',
                    color: 'green',
                    preview: createTemplatePreview('Tech Specialist', 'green', 'tech')
                },
                {
                    id: 'template-5',
                    name: 'Sales Professional',
                    category: 'modern',
                    color: 'red',
                    preview: createTemplatePreview('Sales Professional', 'red', 'modern')
                },
                {
                    id: 'template-6',
                    name: 'Healthcare Expert',
                    category: 'classic',
                    color: 'blue',
                    preview: createTemplatePreview('Healthcare Expert', 'blue', 'classic')
                },
                {
                    id: 'template-7',
                    name: 'Marketing Guru',
                    category: 'creative',
                    color: 'orange',
                    preview: createTemplatePreview('Marketing Guru', 'orange', 'creative')
                },
                {
                    id: 'template-8',
                    name: 'Finance Manager',
                    category: 'executive',
                    color: 'blue',
                    preview: createTemplatePreview('Finance Manager', 'blue', 'executive')
                },
                {
                    id: 'template-9',
                    name: 'Startup Founder',
                    category: 'modern',
                    color: 'purple',
                    preview: createTemplatePreview('Startup Founder', 'purple', 'modern')
                },
                {
                    id: 'template-10',
                    name: 'Academic Scholar',
                    category: 'classic',
                    color: 'green',
                    preview: createTemplatePreview('Academic Scholar', 'green', 'classic')
                }
            ];
        }

        function createTemplatePreview(name, color, style) {
            const colorClasses = {
                blue: 'from-blue-500 to-blue-600',
                green: 'from-green-500 to-green-600',
                red: 'from-red-500 to-red-600',
                purple: 'from-purple-500 to-purple-600',
                orange: 'from-orange-500 to-orange-600',
                gray: 'from-gray-500 to-gray-600'
            };

            if (style === 'modern') {
                return `
                    <div class="text-xs leading-tight h-full">
                        <div class="bg-gradient-to-r ${colorClasses[color]} text-white p-3 rounded-t-lg mb-2">
                            <div class="font-bold text-sm">JOHN SMITH</div>
                            <div class="text-xs opacity-90">Software Engineer</div>
                        </div>
                        <div class="px-2 space-y-2">
                            <div>
                                <div class="font-bold text-${color}-600 text-xs mb-1">CONTACT</div>
                                <div class="text-[8px] text-gray-600">john@email.com<br/>(555) 123-4567</div>
                            </div>
                            <div>
                                <div class="font-bold text-${color}-600 text-xs mb-1">EXPERIENCE</div>
                                <div class="text-[8px] text-gray-700">
                                    <div class="font-medium">Senior Developer</div>
                                    <div class="text-gray-500">Tech Corp • 2020-Present</div>
                                </div>
                            </div>
                            <div>
                                <div class="font-bold text-${color}-600 text-xs mb-1">SKILLS</div>
                                <div class="flex flex-wrap gap-1">
                                    <span class="bg-${color}-100 text-${color}-800 px-1 rounded text-[7px]">React</span>
                                    <span class="bg-${color}-100 text-${color}-800 px-1 rounded text-[7px]">Node.js</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (style === 'creative') {
                return `
                    <div class="text-xs leading-tight h-full">
                        <div class="flex items-center mb-2">
                            <div class="w-8 h-8 bg-gradient-to-br ${colorClasses[color]} rounded-full flex items-center justify-center text-white font-bold text-[10px] mr-2">JS</div>
                            <div>
                                <div class="font-bold text-gray-900 text-sm">JANE SMITH</div>
                                <div class="text-${color}-600 text-xs">UX Designer</div>
                            </div>
                        </div>
                        <div class="space-y-2">
                            <div class="bg-${color}-50 p-2 rounded">
                                <div class="font-bold text-${color}-700 text-xs mb-1">PORTFOLIO</div>
                                <div class="text-[8px] text-gray-700">behance.com/janesmith</div>
                            </div>
                            <div>
                                <div class="font-bold text-gray-900 text-xs mb-1">EXPERIENCE</div>
                                <div class="text-[8px] text-gray-700">
                                    <div class="font-medium">Senior UX Designer</div>
                                    <div class="text-gray-500">Design Studio • 2021-Now</div>
                                </div>
                            </div>
                            <div>
                                <div class="font-bold text-gray-900 text-xs mb-1">TOOLS</div>
                                <div class="text-[8px] text-gray-700">Figma • Sketch • Adobe XD</div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                return `
                    <div class="text-xs leading-tight h-full">
                        <div class="text-center border-b-2 border-${color}-500 pb-2 mb-2">
                            <div class="font-bold text-gray-900 text-sm">MICHAEL JOHNSON</div>
                            <div class="text-${color}-600">Executive Manager</div>
                            <div class="text-gray-600 text-[10px]">michael@email.com • (555) 987-6543</div>
                        </div>
                        <div class="space-y-2">
                            <div>
                                <div class="font-bold text-gray-900 text-xs mb-1 uppercase">Summary</div>
                                <div class="text-[8px] text-gray-700">Results-driven executive with 10+ years...</div>
                            </div>
                            <div>
                                <div class="font-bold text-gray-900 text-xs mb-1 uppercase">Experience</div>
                                <div class="text-[8px] text-gray-700">
                                    <div class="font-medium">Executive Manager</div>
                                    <div class="text-gray-500">Global Corp | 2018 - Present</div>
                                </div>
                            </div>
                            <div>
                                <div class="font-bold text-gray-900 text-xs mb-1 uppercase">Education</div>
                                <div class="text-[8px] text-gray-700">
                                    <div class="font-medium">MBA Business</div>
                                    <div class="text-gray-500">University | 2016</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        function loadTemplates() {
            const grid = document.getElementById('templates-grid');
            const filteredTemplates = filterTemplatesByCategory();
            
            grid.innerHTML = filteredTemplates.map(template => `
                <div class="group cursor-pointer transform hover:scale-105 transition-all duration-300" onclick="selectTemplate('${template.id}')">
                    <div class="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-shadow overflow-hidden">
                        <div class="aspect-[3/4] p-4 border-b">
                            ${template.preview}
                        </div>
                        <div class="p-6">
                            <h3 class="font-bold text-gray-900 mb-2 text-lg">${template.name}</h3>
                            <div class="flex justify-between items-center mb-4">
                                <span class="text-sm text-gray-600 capitalize">${template.category}</span>
                                <span class="text-xs bg-${template.color}-100 text-${template.color}-800 px-3 py-1 rounded-full font-medium">${template.color}</span>
                            </div>
                            <div class="flex items-center justify-between">
                                <div class="flex items-center text-green-600">
                                    <span class="text-sm">✅ ATS Friendly</span>
                                </div>
                                <button class="bg-gradient-to-r from-primary to-purple-600 text-white px-4 py-2 rounded-lg hover:from-primary/90 hover:to-purple-600/90 transition-all">
                                    Use Template
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterTemplates() {
            loadTemplates();
        }

        function filterTemplatesByCategory() {
            const category = document.getElementById('template-category')?.value || '';
            const color = document.getElementById('template-color')?.value || '';
            
            return allTemplates.filter(template => {
                const matchesCategory = !category || template.category === category;
                const matchesColor = !color || template.color === color;
                return matchesCategory && matchesColor;
            });
        }

        function selectTemplate(templateId) {
            if (!currentUser) {
                showNotification('Please login to use templates 🔐', 'error');
                showPage('login');
                return;
            }
            
            currentTemplate = templateId;
            showPage('builder');
            initializeBuilder();
        }

        // Resume Builder functions
        function initializeBuilder() {
            // Pre-fill with user profile data
            if (currentUser.profile) {
                document.getElementById('builder-name').value = currentUser.name || '';
                document.getElementById('builder-email').value = currentUser.email || '';
                document.getElementById('builder-phone').value = currentUser.profile.phone || '';
                document.getElementById('builder-location').value = currentUser.profile.location || '';
                document.getElementById('builder-title').value = currentUser.profile.title || '';
                document.getElementById('builder-summary').value = currentUser.profile.summary || '';
            }
            
            // Clear previous sections
            document.getElementById('experience-list').innerHTML = '';
            document.getElementById('education-list').innerHTML = '';
            experienceCount = 0;
            educationCount = 0;
            
            updatePreview();
        }

        function addExperience() {
            experienceCount++;
            const container = document.getElementById('experience-list');
            const div = document.createElement('div');
            div.className = 'border-2 border-dashed border-green-300 rounded-xl p-4 mb-4 bg-white';
            div.innerHTML = `
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-semibold text-green-800">💼 Experience ${experienceCount}</h4>
                    <button onclick="this.parentElement.parentElement.remove(); updatePreview();" class="text-red-600 hover:text-red-800 bg-red-50 px-3 py-1 rounded-lg hover:bg-red-100 transition-colors">
                        🗑️ Remove
                    </button>
                </div>
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <input type="text" placeholder="Job Title" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500" onchange="updatePreview()">
                    <input type="text" placeholder="Company" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500" onchange="updatePreview()">
                    <input type="text" placeholder="Start Date (e.g., Jan 2020)" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500" onchange="updatePreview()">
                    <input type="text" placeholder="End Date (e.g., Present)" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500" onchange="updatePreview()">
                </div>
                <textarea placeholder="• Describe your key achievements and responsibilities&#10;• Use bullet points for better readability&#10;• Include quantifiable results when possible" rows="4" class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500" onchange="updatePreview()"></textarea>
            `;
            container.appendChild(div);
            updatePreview();
        }

        function addEducation() {
            educationCount++;
            const container = document.getElementById('education-list');
            const div = document.createElement('div');
            div.className = 'border-2 border-dashed border-purple-300 rounded-xl p-4 mb-4 bg-white';
            div.innerHTML = `
                <div class="flex justify-between items-center mb-4">
                    <h4 class="font-semibold text-purple-800">🎓 Education ${educationCount}</h4>
                    <button onclick="this.parentElement.parentElement.remove(); updatePreview();" class="text-red-600 hover:text-red-800 bg-red-50 px-3 py-1 rounded-lg hover:bg-red-100 transition-colors">
                        🗑️ Remove
                    </button>
                </div>
                <div class="grid grid-cols-2 gap-4 mb-4">
                    <input type="text" placeholder="Degree (e.g., Bachelor of Science)" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500" onchange="updatePreview()">
                    <input type="text" placeholder="School/University" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500" onchange="updatePreview()">
                    <input type="text" placeholder="Start Year" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500" onchange="updatePreview()">
                    <input type="text" placeholder="End Year" class="px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500" onchange="updatePreview()">
                </div>
                <textarea placeholder="• Additional details (GPA, honors, relevant coursework)&#10;• Achievements and awards" rows="2" class="w-full px-4 py-3 border rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500" onchange="updatePreview()"></textarea>
            `;
            container.appendChild(div);
            updatePreview();
        }

        function updatePreview() {
            const preview = document.getElementById('resume-preview');
            const name = document.getElementById('builder-name').value || 'Your Name';
            const email = document.getElementById('builder-email').value || 'your.email@example.com';
            const phone = document.getElementById('builder-phone').value || '(555) 123-4567';
            const location = document.getElementById('builder-location').value || 'City, State';
            const title = document.getElementById('builder-title').value || 'Professional Title';
            const summary = document.getElementById('builder-summary').value || '';
            const skills = document.getElementById('builder-skills').value || '';
            
            // Get experience data
            const experienceElements = document.querySelectorAll('#experience-list > div');
            let experienceHTML = '';
            experienceElements.forEach(exp => {
                const inputs = exp.querySelectorAll('input, textarea');
                if (inputs.length >= 5 && inputs[0].value) {
                    experienceHTML += `
                        <div class="mb-6">
                            <div class="flex justify-between items-start mb-2">
                                <h4 class="text-lg font-bold text-gray-900">${inputs[0].value}</h4>
                                <span class="text-sm text-gray-600 font-medium">${inputs[2].value} - ${inputs[3].value}</span>
                            </div>
                            <p class="text-primary font-semibold mb-3">${inputs[1].value}</p>
                            <div class="text-gray-700 text-sm leading-relaxed">
                                ${inputs[4].value.split('\n').map(line => line.trim() ? `<p class="mb-1">${line}</p>` : '').join('')}
                            </div>
                        </div>
                    `;
                }
            });
            
            // Get education data
            const educationElements = document.querySelectorAll('#education-list > div');
            let educationHTML = '';
            educationElements.forEach(edu => {
                const inputs = edu.querySelectorAll('input, textarea');
                if (inputs.length >= 4 && inputs[0].value) {
                    educationHTML += `
                        <div class="mb-4">
                            <div class="flex justify-between items-start mb-1">
                                <div>
                                    <h4 class="text-lg font-bold text-gray-900">${inputs[0].value}</h4>
                                    <p class="text-primary font-semibold">${inputs[1].value}</p>
                                </div>
                                <span class="text-sm text-gray-600 font-medium">${inputs[2].value} - ${inputs[3].value}</span>
                            </div>
                            ${inputs[4].value ? `<div class="text-gray-700 text-sm mt-2">${inputs[4].value.split('\n').map(line => line.trim() ? `<p class="mb-1">${line}</p>` : '').join('')}</div>` : ''}
                        </div>
                    `;
                }
            });
            
            preview.innerHTML = `
                <div class="p-10 max-w-4xl mx-auto bg-white">
                    <!-- Header -->
                    <div class="text-center border-b-4 border-primary pb-8 mb-8">
                        <h1 class="text-4xl font-bold text-gray-900 mb-3">${name}</h1>
                        <p class="text-2xl text-primary font-semibold mb-4">${title}</p>
                        <div class="flex justify-center space-x-6 text-gray-700">
                            <div class="flex items-center">
                                <span class="mr-2">📧</span>
                                <span>${email}</span>
                            </div>
                            <div class="flex items-center">
                                <span class="mr-2">📱</span>
                                <span>${phone}</span>
                            </div>
                            <div class="flex items-center">
                                <span class="mr-2">📍</span>
                                <span>${location}</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Summary -->
                    ${summary ? `
                        <div class="mb-8">
                            <h2 class="text-2xl font-bold text-gray-900 mb-4 border-b-2 border-gray-300 pb-2">PROFESSIONAL SUMMARY</h2>
                            <p class="text-gray-700 leading-relaxed text-lg">${summary}</p>
                        </div>
                    ` : ''}
                    
                    <!-- Experience -->
                    ${experienceHTML ? `
                        <div class="mb-8">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6 border-b-2 border-gray-300 pb-2">WORK EXPERIENCE</h2>
                            ${experienceHTML}
                        </div>
                    ` : ''}
                    
                    <!-- Education -->
                    ${educationHTML ? `
                        <div class="mb-8">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6 border-b-2 border-gray-300 pb-2">EDUCATION</h2>
                            ${educationHTML}
                        </div>
                    ` : ''}
                    
                    <!-- Skills -->
                    ${skills ? `
                        <div class="mb-8">
                            <h2 class="text-2xl font-bold text-gray-900 mb-6 border-b-2 border-gray-300 pb-2">SKILLS</h2>
                            <div class="flex flex-wrap gap-3">
                                ${skills.split(',').map(skill => `<span class="bg-primary text-white px-4 py-2 rounded-full font-medium">${skill.trim()}</span>`).join('')}
                            </div>
                        </div>
                    ` : ''}
                </div>
            `;
        }

        function checkATS() {
            // Simulate ATS checking with loading
            showNotification('Analyzing resume for ATS compatibility... 🤖', 'info');
            
            setTimeout(() => {
                const score = Math.floor(Math.random() * 30) + 70; // Random score between 70-100
                let message = '';
                let type = 'success';
                
                if (score >= 90) {
                    message = `Excellent! ATS Score: ${score}/100 🎉`;
                } else if (score >= 80) {
                    message = `Great! ATS Score: ${score}/100 ✅`;
                } else if (score >= 70) {
                    message = `Good! ATS Score: ${score}/100 👍`;
                } else {
                    message = `Needs Improvement! ATS Score: ${score}/100 ⚠️`;
                    type = 'warning';
                }
                
                showNotification(message, type);
                
                // Save current resume with ATS score
                saveCurrentResume(score);
            }, 2000);
        }

        function saveCurrentResume(atsScore = null) {
            if (!currentUser) return;
            
            const resumeData = {
                id: Date.now().toString(),
                userId: currentUser.id,
                name: (document.getElementById('builder-name').value || 'Untitled') + "'s Resume",
                templateId: currentTemplate,
                data: {
                    name: document.getElementById('builder-name').value,
                    email: document.getElementById('builder-email').value,
                    phone: document.getElementById('builder-phone').value,
                    location: document.getElementById('builder-location').value,
                    title: document.getElementById('builder-title').value,
                    summary: document.getElementById('builder-summary').value,
                    skills: document.getElementById('builder-skills').value
                },
                atsScore: atsScore,
                downloads: 0,
                createdAt: new Date().toISOString(),
                updatedAt: new Date().toISOString()
            };
            
            resumes.push(resumeData);
            localStorage.setItem('resumebuilder_resumes', JSON.stringify(resumes));
            
            return resumeData.id;
        }

        function downloadResume() {
            const resumeId = saveCurrentResume();
            downloadResumeById(resumeId);
        }

        function downloadResumeById(resumeId) {
            // Simulate download
            const resume = resumes.find(r => r.id === resumeId);
            if (resume) {
                resume.downloads = (resume.downloads || 0) + 1;
                localStorage.setItem('resumebuilder_resumes', JSON.stringify(resumes));
            }
            
            showNotification('Resume downloaded successfully! 📄✅', 'success');
            
            // Update dashboard if visible
            if (document.getElementById('dashboard-page').classList.contains('hidden') === false) {
                loadDashboard();
            }
        }

        function editResume(resumeId) {
            const resume = resumes.find(r => r.id === resumeId);
            if (!resume) return;
            
            currentTemplate = resume.templateId;
            showPage('builder');
            
            // Pre-fill form with resume data
            setTimeout(() => {
                if (resume.data) {
                    document.getElementById('builder-name').value = resume.data.name || '';
                    document.getElementById('builder-email').value = resume.data.email || '';
                    document.getElementById('builder-phone').value = resume.data.phone || '';
                    document.getElementById('builder-location').value = resume.data.location || '';
                    document.getElementById('builder-title').value = resume.data.title || '';
                    document.getElementById('builder-summary').value = resume.data.summary || '';
                    document.getElementById('builder-skills').value = resume.data.skills || '';
                }
                updatePreview();
            }, 100);
        }

        // ATS Checker functions
        function analyzeResume(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (file.size > 10 * 1024 * 1024) { // 10MB limit
                showNotification('File size too large. Please upload a file smaller than 10MB ⚠️', 'error');
                return;
            }
            
            showNotification('Analyzing resume... This may take a few moments 🤖', 'info');
            
            // Simulate analysis
            setTimeout(() => {
                const score = Math.floor(Math.random() * 40) + 60; // Random score between 60-100
                
                document.getElementById('ats-score').textContent = score;
                document.getElementById('ats-score-bar').style.width = score + '%';
                
                // Update score bar color and label based on score
                const scoreBar = document.getElementById('ats-score-bar');
                const scoreLabel = document.getElementById('ats-score-label');
                
                if (score >= 90) {
                    scoreBar.className = 'bg-gradient-to-r from-green-400 to-green-600 h-4 rounded-full transition-all duration-1000';
                    scoreLabel.textContent = 'Excellent Score! 🎉';
                    scoreLabel.className = 'inline-block px-4 py-2 rounded-full text-sm font-medium bg-green-100 text-green-800';
                } else if (score >= 80) {
                    scoreBar.className = 'bg-gradient-to-r from-blue-400 to-blue-600 h-4 rounded-full transition-all duration-1000';
                    scoreLabel.textContent = 'Great Score! ✅';
                    scoreLabel.className = 'inline-block px-4 py-2 rounded-full text-sm font-medium bg-blue-100 text-blue-800';
                } else if (score >= 70) {
                    scoreBar.className = 'bg-gradient-to-r from-yellow-400 to-yellow-600 h-4 rounded-full transition-all duration-1000';
                    scoreLabel.textContent = 'Good Score 👍';
                    scoreLabel.className = 'inline-block px-4 py-2 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800';
                } else {
                    scoreBar.className = 'bg-gradient-to-r from-red-400 to-red-600 h-4 rounded-full transition-all duration-1000';
                    scoreLabel.textContent = 'Needs Improvement ⚠️';
                    scoreLabel.className = 'inline-block px-4 py-2 rounded-full text-sm font-medium bg-red-100 text-red-800';
                }
                
                // Generate feedback
                const allStrengths = [
                    'Clear and professional formatting',
                    'Standard fonts used throughout',
                    'Proper file format (PDF/DOC)',
                    'Good use of white space',
                    'Consistent formatting and styling',
                    'Professional email address',
                    'Complete contact information',
                    'Clear section headers',
                    'Appropriate length and content',
                    'No graphics or images that could cause issues'
                ];
                
                const allImprovements = [
                    'Add more industry-specific keywords',
                    'Include quantifiable achievements',
                    'Use bullet points more consistently',
                    'Optimize for target job keywords',
                    'Include more action verbs',
                    'Add relevant certifications',
                    'Improve skills section formatting',
                    'Use standard section names',
                    'Remove unnecessary graphics',
                    'Ensure consistent date formatting'
                ];
                
                const numStrengths = Math.min(3 + Math.floor(score / 20), allStrengths.length);
                const numImprovements = Math.min(2 + Math.floor((100 - score) / 15), allImprovements.length);
                
                const selectedStrengths = allStrengths.slice(0, numStrengths);
                const selectedImprovements = allImprovements.slice(0, numImprovements);
                
                document.getElementById('ats-strengths').innerHTML = 
                    selectedStrengths.map(s => `<li class="text-gray-700 flex items-start"><span class="text-green-500 mr-2">✓</span>${s}</li>`).join('');
                
                document.getElementById('ats-improvements').innerHTML = 
                    selectedImprovements.map(i => `<li class="text-gray-700 flex items-start"><span class="text-orange-500 mr-2">•</span>${i}</li>`).join('');
                
                document.getElementById('ats-results').classList.remove('hidden');
                showNotification('Resume analysis complete! 📊✅', 'success');
            }, 3000);
        }

        // Utility functions
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const bgColor = {
                success: 'bg-gradient-to-r from-green-500 to-green-600',
                error: 'bg-gradient-to-r from-red-500 to-red-600',
                warning: 'bg-gradient-to-r from-yellow-500 to-yellow-600',
                info: 'bg-gradient-to-r from-blue-500 to-blue-600'
            };
            
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-xl shadow-2xl text-white ${bgColor[type]} transform translate-x-full transition-transform duration-300`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Animate out and remove
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    notification.remove();
                }, 300);
            }, 4000);
        }

        function zoomIn() {
            const preview = document.getElementById('resume-preview');
            const currentScale = parseFloat(preview.style.transform.match(/scale\(([\d.]+)\)/)?.[1] || '0.8');
            const newScale = Math.min(currentScale + 0.1, 1.2);
            preview.style.transform = `scale(${newScale})`;
        }

        function zoomOut() {
            const preview = document.getElementById('resume-preview');
            const currentScale = parseFloat(preview.style.transform.match(/scale\(([\d.]+)\)/)?.[1] || '0.8');
            const newScale = Math.max(currentScale - 0.1, 0.4);
            preview.style.transform = `scale(${newScale})`;
        }

        // Initialize sample data if empty
        if (users.length === 0) {
            const sampleUser = {
                id: 'sample1',
                name: 'John Doe',
                email: 'demo@example.com',
                password: 'demo123',
                profile: {
                    phone: '(555) 123-4567',
                    location: 'New York, NY',
                    title: 'Software Engineer',
                    linkedin: 'https://linkedin.com/in/johndoe',
                    summary: 'Experienced software engineer with 5+ years in full-stack development, specializing in React, Node.js, and cloud technologies.'
                },
                createdAt: new Date().toISOString()
            };
            
            users.push(sampleUser);
            localStorage.setItem('resumebuilder_users', JSON.stringify(users));
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'981f6261b0f033ba',t:'MTc1ODM1MDk4MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
